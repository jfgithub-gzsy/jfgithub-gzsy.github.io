<!DOCTYPE html>
<html lang="en">
  <head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">

    <title>hexo-theme-doc-seed |  </title>
    <meta name="description" content>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    

    <!-- fonts -->
    <link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Ubuntu:300,400,500,600,700" rel="stylesheet">

    <!-- stylesheets -->
    <link rel="stylesheet" href="/style/doc.css">

    <!-- favicon -->
    <link rel="icon" href="/images/favicon.ico">

    

  </head>
  <body>

   <script>window.__INITIAL_STATE__ = {"page":{"path":"云云对接/校园系统云云对接.html","title":""},"data":{"navigation":{"logo":{"text":"晶讯平台使用说明文档","type":"link","path":"index.html"},"main":[{"text":"平台操作说明","type":"label"},{"text":"大屏数据展示","type":"link","path":"平台操作说明/大屏数据展示.html"},{"text":"教室权限管理","type":"link","path":"平台操作说明/教室权限管理.html"},{"text":"日志管理","type":"link","path":"平台操作说明/日志管理.html"},{"text":"消息中心","type":"link","path":"平台操作说明/消息中心.html"},{"text":"学校数据展示","type":"link","path":"平台操作说明/学校数据展示.html"},{"text":"定时服务","type":"link","path":"平台操作说明/定时服务/分组定时.html","children":[{"text":"分组定时","type":"link","path":"平台操作说明/定时服务/分组定时.html"}]},{"text":"模板管理","type":"link","path":"平台操作说明/模板管理/模板服务.html","children":[{"text":"模板服务","type":"link","path":"平台操作说明/模板管理/模板服务.html"},{"text":"模板信息","type":"link","path":"平台操作说明/模板管理/模板信息.html"}]},{"text":"设备管理","type":"link","path":"平台操作说明/设备管理/报警消息设置.html","children":[{"text":"报警消息设置","type":"link","path":"平台操作说明/设备管理/报警消息设置.html"},{"text":"设备报表","type":"link","path":"平台操作说明/设备管理/设备报表.html"},{"text":"设备故障","type":"link","path":"平台操作说明/设备管理/设备故障.html"},{"text":"设备信息","type":"link","path":"平台操作说明/设备管理/设备信息.html"},{"text":"设备巡检","type":"link","path":"平台操作说明/设备管理/设备巡检.html"},{"text":"维修信息","type":"link","path":"平台操作说明/设备管理/维修信息.html"}]},{"text":"学校管理","type":"link","path":"平台操作说明/学校管理/班级信息.html","children":[{"text":"班级信息","type":"link","path":"平台操作说明/学校管理/班级信息.html"},{"text":"创建学校","type":"link","path":"平台操作说明/学校管理/创建学校.html"},{"text":"教室分配信息","type":"link","path":"平台操作说明/学校管理/教室分配信息.html"},{"text":"教学楼管理","type":"link","path":"平台操作说明/学校管理/教学楼管理.html"},{"text":"老师信息","type":"link","path":"平台操作说明/学校管理/老师信息.html"},{"text":"学校信息","type":"link","path":"平台操作说明/学校管理/学校信息.html"}]},{"text":"用户管理","type":"link","path":"平台操作说明/用户管理/创建用户.html","children":[{"text":"创建用户","type":"link","path":"平台操作说明/用户管理/创建用户.html"},{"text":"冻结用户","type":"link","path":"平台操作说明/用户管理/冻结用户.html"},{"text":"密码重置","type":"link","path":"平台操作说明/用户管理/密码重置.html"},{"text":"除用户","type":"link","path":"平台操作说明/用户管理/删除用户.html"},{"text":"用户管理","type":"link","path":"平台操作说明/用户管理/用户管理.html","children":[{"text":"测试1","type":"link","path":"平台操作说明/用户管理/用户管理.html"},{"text":"测试2","type":"link","path":"平台操作说明/用户管理/用户管理.html","children":[{"text":"测试3","type":"link","path":"平台操作说明/用户管理/用户管理.html"}]}]}]},{"text":"云云对接","type":"label"},{"text":"校园系统云云对接","type":"link","path":"云云对接/校园系统云云对接.html"}]},"navigation.yaml":"{\n  \"logo\": {\n    \"text\": \"Hexo Doc Theme Seed\",\n    \"type\": \"link\",\n    \"path\": \"index.html\"\n  },\n  \"main\": [\n    {\n      \"text\": \"平台操作说明\",\n      \"type\": \"label\"\n    },\n\n\n    {\n      \"text\": \"大屏数据展示\",\n      \"type\": \"link\",\n      \"path\": \"平台操作说明/大屏数据展示.html\"\n    },\n\n    \n    {\n      \"text\": \"教室权限管理\",\n      \"type\": \"link\",\n      \"path\": \"平台操作说明/教室权限管理.html\"\n    },\n\n\n    {\n      \"text\": \"日志管理\",\n      \"type\": \"link\",\n      \"path\": \"平台操作说明/日志管理.html\"\n    },\n\n\n\n    {\n      \"text\": \"消息中心\",\n      \"type\": \"link\",\n      \"path\": \"平台操作说明/消息中心.html\"\n    },\n\n\n\n    {\n      \"text\": \"学校数据展示\",\n      \"type\": \"link\",\n      \"path\": \"平台操作说明/学校数据展示.html\"\n    },\n\n    {\n      \"text\": \"定时服务\",\n      \"type\": \"link\",\n      \"children\":\n       - \"text\" : \"分组定时\"\n       - \"type\" : \"link\"\n       - \"path\": \"平台操作说明/定时服务/分组定时.html\"\n    },\n\n    {\n      \"text\": \"SWAGGER\",\n      \"type\": \"label\"\n    },\n    {\n      \"text\": \"UI\",\n      \"type\": \"link\",\n      \"path\": \"swagger/ui.html\"\n    },\n    {\n      \"text\": \"To HTML\",\n      \"type\": \"link\",\n      \"path\": \"swagger/to-html.html\"\n    },\n\n    {\n      \"text\": \"SUPPORT AND FEEDBACK\",\n      \"type\": \"label\"\n    },\n    {\n      \"text\": \"Raise an Issue on Github\",\n      \"type\": \"link\",\n      \"path\": \"https://github.bus.zalan.do/stargate/hexo-stargate-doc-theme-seed/issues/new\"\n    }\n  ]\n}\n"},"config":{"timezone":"UTC","root":"/","time_format":"HH:mm:ss","theme":"../node_modules/hexo-theme-doc","theme_config":{"swagger_ui":{"version":2,"permalinks":true,"api_explorer":true,"download":"Download specification","show_extensions":false,"deep_linking":true,"display_operation_id":false,"doc_expansion":"none"},"search":{"skip":false,"background":false,"route":"/lunr.json"},"favicon":"images/favicon.ico"}}}</script>

    <div id="react-navigation-root"><div class="doc-navigation" data-reactroot><nav class="doc-navbar"><a href="/index.html" class="doc-navbar__logo"><img src="/images/logo.png" class="doc-navbar__logo__img"><span class="doc-navbar__logo__text">晶讯平台使用说明文档</span></a><i class="dc-icon dc-icon--close dc-icon--interactive doc-sidebar-close doc-navbar__sidebar-close doc-navbar__sidebar-close--desktop"></i><i class="dc-icon dc-icon--menu dc-icon--interactive doc-sidebar-toggle doc-navbar__sidebar-toggle"></i></nav><nav class="doc-sidebar"><div class="doc-sidebar__vertical-menu"><i class="dc-icon dc-icon--menu dc-icon--interactive doc-sidebar-toggle doc-sidebar-toggle--primary doc-sidebar__vertical-menu__item"></i><i class="dc-icon dc-icon--search dc-icon--interactive doc-sidebar__vertical-menu__item doc-sidebar__vertical-menu__item--primary"></i></div><div class="doc-sidebar-content"><div class="doc-sidebar__search-form"></div><ul class="doc-sidebar-list"></ul></div></nav></div></div>
    <div class="doc-content">
  <div class="dc-page">
    <div class="dc-card">
      <div id="react-search-results-root"></div>
      <div id="page-content" class="doc-formatting">
        <h2 id="1，操作流程："><a href="#1，操作流程：" class="headerlink" title="1，操作流程："></a>1，操作流程：</h2><h4 id="1-1，注册企业账号"><a href="#1-1，注册企业账号" class="headerlink" title="1.1，注册企业账号"></a>1.1，注册企业账号</h4><p>技术人员会帮助企业注册,创建企业账号。</p>
<h4 id="1-2，申请AccessKey和AccessSecret"><a href="#1-2，申请AccessKey和AccessSecret" class="headerlink" title="1.2，申请AccessKey和AccessSecret"></a>1.2，申请AccessKey和AccessSecret</h4><p><strong>AccessKey和AccessSecret是您访问云服务API的密钥，请您妥善保管。</strong></p>
<p>每个企业账户可创建5个AccessKey.</p>
<p>每个AccessKey最多对应10个学校,5个IP白名单.</p>
<p><strong>申请AccessKey和AccessSecret 步骤如下：</strong></p>
<p>① 登录企业账户后,右上角点击头像,选择 “AccessKey管理”</p>
<p><img src="https://images.gitee.com/uploads/images/2021/0401/155139_07d5287b_8879466.png" alt="enter image description here" title="image-20210326173740689.png"></p>
<p>② 点击”创建AccessKey”</p>
<p><img src="https://images.gitee.com/uploads/images/2021/0401/155324_cc199f49_8879466.png" alt="enter image description here" title="image-20210326174009414.png"></p>
<p>③ 添加对应学校,以及IP白名单.</p>
<p>一个AccessKey最多对应10个学校,5个IP白名单.</p>
<p><img src="https://images.gitee.com/uploads/images/2020/1204/102805_05f8868e_8303412.png" alt="输入图片说明" title="屏幕截图.png"></p>
<p>选择对应学校.</p>
<p>点击左侧”学校列表”内的学校,就会添加到右侧”已选学校”,</p>
<p>点击”已选学校”内的学校的”×,即可删除对应学校.</p>
<p><img src="https://images.gitee.com/uploads/images/2020/1204/102834_9767ad06_8303412.png" alt="输入图片说明" title="屏幕截图.png"></p>
<p><img src="https://images.gitee.com/uploads/images/2020/1204/103045_3bdd12b0_8303412.png" alt="输入图片说明" title="屏幕截图.png"></p>
<p>添加IP白名单</p>
<p>校验时会根据AccessKey和IP白名单双重校验.增加安全性和可靠性.</p>
<p>IP示例:</p>
<p>196.128.3.30</p>
<p><img src="https://images.gitee.com/uploads/images/2020/1204/103126_146a5eaf_8303412.png" alt="输入图片说明" title="屏幕截图.png"></p>
<p>④ 生成Access Key成功</p>
<p><img src="https://images.gitee.com/uploads/images/2021/0401/155423_92f4cb4b_8879466.png" alt="enter image description here" title="image-20210326174311778.png"></p>
<p>⑤ 查看AccessSecret.输入短信验证码后即可查看.</p>
<p><img src="https://images.gitee.com/uploads/images/2021/0401/155541_3a9768f0_8879466.png" alt="enter image description here" title="image-20210326174358046.png"></p>
<p>申请示例:</p>
<p>AccessKey :</p>
<p>5103e4d4282644f9bca4f4453aec36f2</p>
<p>AccessSecret :</p>
<p>4aa2e67ad61c442e89bd6cf9e6e75b66</p>
<p><strong>请求加密代码与示例</strong></p>
<p>加密代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String hmacString = HmacSHA256Util.sha256_HMAC(key + keySecret + timeStamp, keySecret);</span><br><span class="line">String base64 = Base64Util.strConvertBase(hmacString);</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">String base64 = Base64Util.strConvertBase(HmacSHA256Util.sha256_HMAC(key + keySecret + timeStamp, keySecret));</span><br><span class="line"></span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * sha256_HMAC加密</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> message 消息</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> secret  秘钥</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span> 加密后字符串</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">sha256_HMAC</span><span class="params">(String message, String secret)</span> </span>&#123;</span><br><span class="line">       String hash = <span class="string">""</span>;</span><br><span class="line">       <span class="keyword">try</span> &#123;</span><br><span class="line">           Mac sha256_HMAC = Mac.getInstance(<span class="string">"HmacSHA256"</span>);</span><br><span class="line">           SecretKeySpec secret_key = <span class="keyword">new</span> SecretKeySpec(secret.getBytes(), <span class="string">"HmacSHA256"</span>);</span><br><span class="line">           sha256_HMAC.init(secret_key);</span><br><span class="line">           <span class="keyword">byte</span>[] bytes = sha256_HMAC.doFinal(message.getBytes());</span><br><span class="line">           hash = byteArrayToHexString(bytes);</span><br><span class="line">       &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">           e.printStackTrace();</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> hash;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * String 转base64</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> str</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">strConvertBase</span><span class="params">(String str)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span>(<span class="keyword">null</span> != str)&#123;</span><br><span class="line">           Base64.Encoder encoder = Base64.getEncoder();</span><br><span class="line">           <span class="keyword">return</span> encoder.encodeToString(str.getBytes());</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 将加密后的字节数组转换成字符串</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> b 字节数组</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span> 字符串</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">byteArrayToHexString</span><span class="params">(<span class="keyword">byte</span>[] b)</span> </span>&#123;</span><br><span class="line">       StringBuilder hs = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">       String stmp;</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> n = <span class="number">0</span>; b != <span class="keyword">null</span> &amp;&amp; n &lt; b.length; n++) &#123;</span><br><span class="line">           stmp = Integer.toHexString(b[n] &amp; <span class="number">0XFF</span>);</span><br><span class="line">           <span class="keyword">if</span> (stmp.length() == <span class="number">1</span>)</span><br><span class="line">               hs.append(<span class="string">'0'</span>);</span><br><span class="line">           hs.append(stmp);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> hs.toString().toLowerCase();</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<p><strong>示例</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">X-Jingxun-AccessKey : 62c077aba94646a189fa6555d9b7e527</span><br><span class="line"></span><br><span class="line">Time-Stamp : 1561795353043</span><br><span class="line"></span><br><span class="line">X-Jingxun-Signature : Y2U0YWRkNjAzNTk5Y2RjNjY1MTY3MGEzMjAwYjZjYjVhZTcyNDhlYTRhMzYzMzBjODc0YjAyYzYyMDI4NmVhNg==</span><br></pre></td></tr></table></figure>
<p><strong>测试代码</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">       String keyId = <span class="string">"62c077aba94646a189fa6555d9b7e527"</span>;</span><br><span class="line">       String keySecret = <span class="string">"321mbgmg65fzcvbeonvhdg7mljusszhq"</span>;</span><br><span class="line">       String timeStamp = <span class="string">"1561795353043"</span>;</span><br><span class="line">       String signature = <span class="string">"Y2U0YWRkNjAzNTk5Y2RjNjY1MTY3MGEzMjAwYjZjYjVhZTcyNDhlYTRhMzYzMzBjODc0YjAyYzYyMDI4NmVhNg=="</span>;</span><br><span class="line">       String hmacString = HmacSHA256Util.sha256_HMAC(keyId+keySecret+timeStamp,keySecret);</span><br><span class="line">       String base64 = Base64Util.strConvertBase(hmacString);</span><br><span class="line">       System.out.println(<span class="string">"base64:"</span>+base64);</span><br><span class="line">       <span class="keyword">if</span>(base64.equals(signature))&#123;</span><br><span class="line">           System.out.println(<span class="string">"成功"</span>);</span><br><span class="line">       &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">           System.out.println(<span class="string">"失败"</span>);</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<p>打印结果</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">base64:Y2U0YWRkNjAzNTk5Y2RjNjY1MTY3MGEzMjAwYjZjYjVhZTcyNDhlYTRhMzYzMzBjODc0YjAyYzYyMDI4NmVhNg==</span><br><span class="line">成功</span><br></pre></td></tr></table></figure>
<h4 id="1-3，获取教室列表"><a href="#1-3，获取教室列表" class="headerlink" title="1.3，获取教室列表"></a>1.3，获取教室列表</h4><p>具体见API列表,获取教室条目.</p>
<h4 id="1-4，获取设备"><a href="#1-4，获取设备" class="headerlink" title="1.4，获取设备"></a>1.4，获取设备</h4><p>具体见API列表,获取设备条目.</p>
<h4 id="1-5，查询设置支持的指令集"><a href="#1-5，查询设置支持的指令集" class="headerlink" title="1.5，查询设置支持的指令集"></a>1.5，查询设置支持的指令集</h4><table>
<thead>
<tr>
<th>code</th>
<th>名称</th>
<th>数据类型</th>
<th>取值描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>pwr</td>
<td>开关</td>
<td>Boolean</td>
<td>{}</td>
</tr>
<tr>
<td>bright</td>
<td>亮度</td>
<td>Integer</td>
<td>{\”min\”:1,\”max\”:100,\”step\”:1}</td>
</tr>
<tr>
<td>color_temperature</td>
<td>色温</td>
<td>Integer</td>
<td>{\”min\”:0,\”max\”:100,\”step\”:1}</td>
</tr>
<tr>
<td>color_rgb</td>
<td>颜色</td>
<td>Integer</td>
<td>{\”min\”:0,\”max\”:16777215,\”step\”:1}</td>
</tr>
</tbody>
</table>
<h4 id="1-6，控制设备"><a href="#1-6，控制设备" class="headerlink" title="1.6，控制设备"></a>1.6，控制设备</h4><p>具体见API列表,控制设备条目.</p>
<h2 id="2，API接口："><a href="#2，API接口：" class="headerlink" title="2，API接口："></a>2，API接口：</h2><h4 id="请求头设置："><a href="#请求头设置：" class="headerlink" title="请求头设置："></a>请求头设置：</h4><p>所有接口请求头都需要X-Jingxun-AccessKey、X-Jingxun-Signature、Time-Stamp这三个参数，AccessKey和AccessSecret可以从晶讯云平台申请。详情如下：</p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>参数类型</th>
<th>必填</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Jingxun-AccessKey</td>
<td>String</td>
<td>Header</td>
<td>是</td>
<td>AccessKey</td>
</tr>
<tr>
<td>X-Jingxun-Signature</td>
<td>String</td>
<td>Header</td>
<td>是</td>
<td>签名，通过SHA256加密后转base64。加密密钥为AccessSecret。<br>X-Jingxun-Signature = base64(HMAC(AccessKey+AccessSecret+Time-Stamp, AccessSecret))</td>
</tr>
<tr>
<td>Time-Stamp</td>
<td>String</td>
<td>Header</td>
<td>是</td>
<td>13 位标准时间戳</td>
</tr>
</tbody>
</table>
<h4 id="2-1，获取教室"><a href="#2-1，获取教室" class="headerlink" title="2.1，获取教室"></a>2.1，获取教室</h4><p><strong>接口地址</strong></p>
<p>GET  /jingxun/v3/console/campus/classroom</p>
<p><strong>请求参数</strong></p>
<p>无</p>
<p><strong>响应参数</strong></p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码，详情见错误码。</td>
</tr>
<tr>
<td>timestamp</td>
<td>Long</td>
<td>响应时间戳。</td>
</tr>
<tr>
<td>msg</td>
<td>String</td>
<td>请求失败返回的信息，成功则返回空值。</td>
</tr>
<tr>
<td>data</td>
<td>Object</td>
<td>返回结果。</td>
</tr>
</tbody>
</table>
<p><strong>data说明</strong></p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>systems</td>
<td>Object []</td>
<td>学校列表</td>
</tr>
<tr>
<td>buildings</td>
<td>Object []</td>
<td>教学楼列表</td>
</tr>
<tr>
<td>floors</td>
<td>Object []</td>
<td>楼层列表</td>
</tr>
</tbody>
</table>
<p><strong>systems说明</strong></p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>systemId</td>
<td>string</td>
<td>学校id</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>学校名字</td>
</tr>
<tr>
<td>buildingIds</td>
<td>string []</td>
<td>教学楼id列表</td>
</tr>
<tr>
<td>createTime</td>
<td>Long</td>
<td>创建时间</td>
</tr>
<tr>
<td>refreshTime</td>
<td>Long</td>
<td>更新时间</td>
</tr>
<tr>
<td>defaultSystem</td>
<td>Boolean</td>
<td>是否默认学校</td>
</tr>
<tr>
<td>address</td>
<td>string</td>
<td>地址</td>
</tr>
<tr>
<td>describe</td>
<td>string</td>
<td>描述</td>
</tr>
</tbody>
</table>
<p><strong>buildings说明</strong></p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>buildingId</td>
<td>string</td>
<td>楼栋id</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>楼栋名称</td>
</tr>
<tr>
<td>floorIds</td>
<td>string []</td>
<td>楼层id列表</td>
</tr>
<tr>
<td>createTime</td>
<td>Long</td>
<td>创建时间</td>
</tr>
<tr>
<td>refreshTime</td>
<td>Long</td>
<td>更新时间</td>
</tr>
</tbody>
</table>
<p><strong>floors说明</strong></p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>floorId</td>
<td>string</td>
<td>楼层id</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>楼层名字</td>
</tr>
<tr>
<td>places</td>
<td>Object[]</td>
<td>教室id列表</td>
</tr>
<tr>
<td>createTime</td>
<td>Long</td>
<td>创建时间</td>
</tr>
<tr>
<td>refreshTime</td>
<td>Long</td>
<td>更新时间</td>
</tr>
</tbody>
</table>
<p><strong>places说明</strong></p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>placeId</td>
<td>string</td>
<td>教室id</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>教室名字</td>
</tr>
<tr>
<td>templateId</td>
<td>string</td>
<td>模板id</td>
</tr>
<tr>
<td>templateName</td>
<td>string</td>
<td>模板名字</td>
</tr>
<tr>
<td>haveDevice</td>
<td>Boolean</td>
<td>是否有设备</td>
</tr>
<tr>
<td>onNum</td>
<td>Integer</td>
<td>设备在线数量</td>
</tr>
<tr>
<td>offNum</td>
<td>Integer</td>
<td>设备离线数量</td>
</tr>
<tr>
<td>faultNum</td>
<td>Integer</td>
<td>设备故障数量</td>
</tr>
<tr>
<td>electricity</td>
<td>String</td>
<td>耗电量</td>
</tr>
</tbody>
</table>
<p><strong>响应示例</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;timestamp&quot;:1599893956281,</span><br><span class="line">    &quot;code&quot;:2000,</span><br><span class="line">    &quot;mgs&quot;:null,</span><br><span class="line">    &quot;data&quot;:&#123;</span><br><span class="line">        &quot;floors&quot;:[</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;floorId&quot;:&quot;NQQav0zhXuFFumZO&quot;,</span><br><span class="line">                &quot;name&quot;:&quot;1层&quot;,</span><br><span class="line">                &quot;places&quot;:[</span><br><span class="line">                    &#123;</span><br><span class="line">                        &quot;placeId&quot;:&quot;4C600AC8D900B017&quot;,</span><br><span class="line">                        &quot;name&quot;:&quot;101房间&quot;,</span><br><span class="line">                        &quot;templateId&quot;:&quot;1129496172986114048&quot;,</span><br><span class="line">                        &quot;templateName&quot;:&quot;组控测试模板&quot;,</span><br><span class="line">                        &quot;haveDevice&quot;:false,</span><br><span class="line">                        &quot;onNum&quot;:1,</span><br><span class="line">                        &quot;offNum&quot;:0,</span><br><span class="line">                        &quot;faultNum&quot;:0,</span><br><span class="line">                        &quot;electricity&quot;:null</span><br><span class="line">                    &#125;</span><br><span class="line">                ],</span><br><span class="line">                &quot;createTime&quot;:null,</span><br><span class="line">                &quot;refreshTime&quot;:null</span><br><span class="line">            &#125;</span><br><span class="line">        ],</span><br><span class="line">        &quot;systems&quot;:[</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;systemId&quot;:&quot;dxVvZN8o9Hja0hdu&quot;,</span><br><span class="line">                &quot;name&quot;:&quot;深圳测试学校&quot;,</span><br><span class="line">                &quot;buildingIds&quot;:[</span><br><span class="line">                    &quot;bX1Gu3L2bp2QJb14&quot;</span><br><span class="line">                ],</span><br><span class="line">                &quot;createTime&quot;:null,</span><br><span class="line">                &quot;refreshTime&quot;:null,</span><br><span class="line">                &quot;defaultSystem&quot;:false,</span><br><span class="line">                &quot;address&quot;:&quot;广东省深圳市南山区学苑大道1001&quot;,</span><br><span class="line">                &quot;describe&quot;:&quot;描述...&quot;</span><br><span class="line">            &#125;</span><br><span class="line">        ],</span><br><span class="line">        &quot;buildings&quot;:[</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;buildingId&quot;:&quot;bX1Gu3L2bp2QJb14&quot;,</span><br><span class="line">                &quot;name&quot;:&quot;1号楼&quot;,</span><br><span class="line">                &quot;floorIds&quot;:[</span><br><span class="line">                    &quot;NQQav0zhXuFFumZO&quot;,</span><br><span class="line">                    &quot;K98pEVk2whoSRwdy&quot;,</span><br><span class="line">                    &quot;JXy1TD31hKDDgpqJ&quot;</span><br><span class="line">                ],</span><br><span class="line">                &quot;createTime&quot;:null,</span><br><span class="line">                &quot;refreshTime&quot;:null</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-2，获取设备"><a href="#2-2，获取设备" class="headerlink" title="2.2，获取设备"></a>2.2，获取设备</h4><p><strong>接口地址</strong></p>
<p>GET  /jingxun/v3/console/devices</p>
<p><strong>请求参数</strong></p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>参数类型</th>
<th>必填</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>placeId</td>
<td>String</td>
<td>URL</td>
<td>是</td>
<td>教室id</td>
</tr>
</tbody>
</table>
<p><strong>响应参数</strong></p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码，详情见错误码。</td>
</tr>
<tr>
<td>timestamp</td>
<td>Long</td>
<td>响应时间戳。</td>
</tr>
<tr>
<td>msg</td>
<td>String</td>
<td>请求失败返回的信息，成功则返回空值。</td>
</tr>
<tr>
<td>data</td>
<td>Object</td>
<td>返回结果。</td>
</tr>
</tbody>
</table>
<p><strong>data说明</strong></p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>devices</td>
<td>Object []</td>
<td>设备列表</td>
</tr>
</tbody>
</table>
<p><strong>devices说明</strong></p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>deviceId</td>
<td>String</td>
<td>设备id</td>
</tr>
<tr>
<td>placeId</td>
<td>String</td>
<td>教室id</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>设备类型<br>DIM:单路灯<br>CCT:双路灯<br>RGBW:四路灯<br>RGBCW:五路灯<br>DIY_LIGHT:自定义灯<br>CURTAIN:窗帘</td>
</tr>
<tr>
<td>pid</td>
<td>Long</td>
<td>产品id</td>
</tr>
<tr>
<td>nickname</td>
<td>String</td>
<td>设备名字</td>
</tr>
<tr>
<td>category</td>
<td>String</td>
<td>分类<br>LIGHT:照明(包含各种类型的灯)<br>OTHER:其他(包含窗帘)</td>
</tr>
<tr>
<td>icon</td>
<td>String</td>
<td>图标</td>
</tr>
<tr>
<td>createTime</td>
<td>Long</td>
<td>创建时间</td>
</tr>
<tr>
<td>refreshTime</td>
<td>Long</td>
<td>添加时间</td>
</tr>
</tbody>
</table>
<p><strong>响应示例</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;timestamp&quot;:1599459437463,</span><br><span class="line">    &quot;code&quot;:2000,</span><br><span class="line">    &quot;msg&quot;:null,</span><br><span class="line">    &quot;data&quot;:&#123;</span><br><span class="line">        &quot;devices&quot;:[</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;deviceId&quot;:&quot;xxx&quot;,</span><br><span class="line">                &quot;placeId&quot;:&quot;xxx&quot;,</span><br><span class="line">                &quot;createTime&quot;:158120000000,</span><br><span class="line">                &quot;refreshTime&quot;:158120000000,</span><br><span class="line">                &quot;type&quot;:&quot;DIM&quot;,</span><br><span class="line">                &quot;pid&quot;:3752350720,</span><br><span class="line">                &quot;nickName&quot;:&quot;教室灯-01&quot;,</span><br><span class="line">                &quot;category&quot;:&quot;LIGHT&quot;,</span><br><span class="line">                &quot;icon&quot;:null</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-3，根据设备id获取产品功能"><a href="#2-3，根据设备id获取产品功能" class="headerlink" title="2.3，根据设备id获取产品功能"></a>2.3，根据设备id获取产品功能</h4><p><strong>接口地址</strong></p>
<p>GET  /jingxun/v3/console/device/function</p>
<p><strong>请求参数</strong></p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>参数类型</th>
<th>必填</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>deviceId</td>
<td>String</td>
<td>URL</td>
<td>是</td>
<td>设备id</td>
</tr>
</tbody>
</table>
<p><strong>响应参数</strong></p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码，详情见错误码。</td>
</tr>
<tr>
<td>timestamp</td>
<td>Long</td>
<td>响应时间戳。</td>
</tr>
<tr>
<td>msg</td>
<td>String</td>
<td>请求失败返回的信息，成功则返回空值。</td>
</tr>
<tr>
<td>data</td>
<td>Object</td>
<td>返回结果。</td>
</tr>
</tbody>
</table>
<p><strong>data说明</strong></p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>functions</td>
<td>Object []</td>
<td>功能列表</td>
</tr>
</tbody>
</table>
<p><strong>functions说明</strong></p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>command</td>
<td>String</td>
<td>指令<br>pwr    开关<br>bright    亮度<br>color_temperature    色温<br>color_rgb    RGB颜色</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>指令名称</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>指令类型</td>
</tr>
<tr>
<td>values</td>
<td>String</td>
<td>入参范围</td>
</tr>
<tr>
<td>desc</td>
<td>String</td>
<td>描述</td>
</tr>
</tbody>
</table>
<p><strong>响应示例</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;code&quot;: 2000,</span><br><span class="line">    &quot;data&quot;: &#123;</span><br><span class="line">        &quot;functions&quot;: [</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;command&quot;: &quot;pwr&quot;,</span><br><span class="line">                &quot;name&quot;: &quot;开关&quot;,</span><br><span class="line">                &quot;type&quot;: &quot;Boolean&quot;,</span><br><span class="line">                &quot;values&quot;: &quot;&#123;&#125;&quot;,</span><br><span class="line">                &quot;desc&quot;: null</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;command&quot;: &quot;bright&quot;,</span><br><span class="line">                &quot;name&quot;: &quot;亮度&quot;,</span><br><span class="line">                &quot;type&quot;: &quot;Integer&quot;,</span><br><span class="line">                &quot;values&quot;: &quot;&#123;\&quot;min\&quot;:1,\&quot;max\&quot;:100,\&quot;step\&quot;:1&#125;&quot;,</span><br><span class="line">                &quot;desc&quot;: null</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;command&quot;: &quot;color_temperature&quot;,</span><br><span class="line">                &quot;name&quot;: &quot;色温&quot;,</span><br><span class="line">                &quot;type&quot;: &quot;Integer&quot;,</span><br><span class="line">                &quot;values&quot;: &quot;&#123;\&quot;min\&quot;:0,\&quot;max\&quot;:100,\&quot;step\&quot;:1&#125;&quot;,</span><br><span class="line">                &quot;desc&quot;: null</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;command&quot;: &quot;color_rgb&quot;,</span><br><span class="line">                &quot;name&quot;: &quot;颜色&quot;,</span><br><span class="line">                &quot;type&quot;: &quot;Integer&quot;,</span><br><span class="line">                &quot;values&quot;: &quot;&#123;\&quot;min\&quot;:0,\&quot;max\&quot;:16777215,\&quot;step\&quot;:1&#125;&quot;,</span><br><span class="line">                &quot;desc&quot;: null</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;timestamp&quot;: 1606184817633</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-4，根据产品pid获取产品功能"><a href="#2-4，根据产品pid获取产品功能" class="headerlink" title="2.4，根据产品pid获取产品功能"></a>2.4，根据产品pid获取产品功能</h4><p><strong>接口地址</strong></p>
<p>GET  /jingxun/v3/console/product/function</p>
<p><strong>请求参数</strong></p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>参数类型</th>
<th>必填</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>pid</td>
<td>Long</td>
<td>URL</td>
<td>是</td>
<td>设备id</td>
</tr>
</tbody>
</table>
<p><strong>响应参数</strong></p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码，详情见错误码。</td>
</tr>
<tr>
<td>timestamp</td>
<td>Long</td>
<td>响应时间戳。</td>
</tr>
<tr>
<td>msg</td>
<td>String</td>
<td>请求失败返回的信息，成功则返回空值。</td>
</tr>
<tr>
<td>data</td>
<td>Object</td>
<td>返回结果。</td>
</tr>
</tbody>
</table>
<p><strong>data说明</strong></p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>functions</td>
<td>Object []</td>
<td>功能列表</td>
</tr>
</tbody>
</table>
<p><strong>functions说明</strong></p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>command</td>
<td>String</td>
<td>指令<br>pwr    开关<br>bright    亮度<br>color_temperature    色温<br>color_rgb    RGB颜色</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>指令名称</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>指令类型</td>
</tr>
<tr>
<td>values</td>
<td>String</td>
<td>入参范围</td>
</tr>
<tr>
<td>desc</td>
<td>String</td>
<td>描述</td>
</tr>
</tbody>
</table>
<p><strong>响应示例</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;code&quot;: 2000,</span><br><span class="line">    &quot;data&quot;: &#123;</span><br><span class="line">        &quot;functions&quot;: [</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;command&quot;: &quot;pwr&quot;,</span><br><span class="line">                &quot;name&quot;: &quot;开关&quot;,</span><br><span class="line">                &quot;type&quot;: &quot;Boolean&quot;,</span><br><span class="line">                &quot;values&quot;: &quot;&#123;&#125;&quot;,</span><br><span class="line">                &quot;desc&quot;: null</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;command&quot;: &quot;bright&quot;,</span><br><span class="line">                &quot;name&quot;: &quot;亮度&quot;,</span><br><span class="line">                &quot;type&quot;: &quot;Integer&quot;,</span><br><span class="line">                &quot;values&quot;: &quot;&#123;\&quot;min\&quot;:1,\&quot;max\&quot;:100,\&quot;step\&quot;:1&#125;&quot;,</span><br><span class="line">                &quot;desc&quot;: null</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;command&quot;: &quot;color_temperature&quot;,</span><br><span class="line">                &quot;name&quot;: &quot;色温&quot;,</span><br><span class="line">                &quot;type&quot;: &quot;Integer&quot;,</span><br><span class="line">                &quot;values&quot;: &quot;&#123;\&quot;min\&quot;:0,\&quot;max\&quot;:100,\&quot;step\&quot;:1&#125;&quot;,</span><br><span class="line">                &quot;desc&quot;: null</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;command&quot;: &quot;color_rgb&quot;,</span><br><span class="line">                &quot;name&quot;: &quot;颜色&quot;,</span><br><span class="line">                &quot;type&quot;: &quot;Integer&quot;,</span><br><span class="line">                &quot;values&quot;: &quot;&#123;\&quot;min\&quot;:0,\&quot;max\&quot;:16777215,\&quot;step\&quot;:1&#125;&quot;,</span><br><span class="line">                &quot;desc&quot;: null</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;timestamp&quot;: 1606184817633</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-5，获取设备状态"><a href="#2-5，获取设备状态" class="headerlink" title="2.5，获取设备状态"></a>2.5，获取设备状态</h4><p><strong>接口地址</strong></p>
<p>GET  /jingxun/v3/console/device/{deviceId}/status</p>
<p><strong>请求参数</strong></p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>参数类型</th>
<th>必填</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>deviceId</td>
<td>String</td>
<td>URL</td>
<td>是</td>
<td>设备id</td>
</tr>
</tbody>
</table>
<p><strong>响应参数</strong></p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码，详情见错误码。</td>
</tr>
<tr>
<td>timestamp</td>
<td>Long</td>
<td>响应时间戳。</td>
</tr>
<tr>
<td>msg</td>
<td>String</td>
<td>请求失败返回的信息，成功则返回空值。</td>
</tr>
<tr>
<td>data</td>
<td>Object []</td>
<td>返回结果。</td>
</tr>
</tbody>
</table>
<p><strong>data说明</strong></p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>command</td>
<td>String</td>
<td>指令<br>pwr    开关<br>bright    亮度<br>color_temperature    色温<br>color_rgb    RGB颜色</td>
</tr>
<tr>
<td>value</td>
<td>Object</td>
<td>参数<br>false/true 对应的是开关类型为”关/开”<br><br>为数值是,对应相应的参数取值.</td>
</tr>
</tbody>
</table>
<p><strong>响应示例</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;code&quot;: 2000,</span><br><span class="line">    &quot;data&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;command&quot;: &quot;pwr&quot;,</span><br><span class="line">            &quot;value&quot;: false</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;command&quot;: &quot;bright&quot;,</span><br><span class="line">            &quot;value&quot;: 0</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;command&quot;: &quot;color_rgb&quot;,</span><br><span class="line">            &quot;value&quot;: 16711680</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;command&quot;: &quot;color_temperature&quot;,</span><br><span class="line">            &quot;value&quot;: 0</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    &quot;timestamp&quot;: 1606185556450</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-6，控制设备"><a href="#2-6，控制设备" class="headerlink" title="2.6，控制设备"></a>2.6，控制设备</h4><p><strong>接口地址</strong></p>
<p>POST  /jingxun/v3/console/execute</p>
<p><strong>请求参数</strong></p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>参数类型</th>
<th>必填</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>targetId</td>
<td>String</td>
<td>Body</td>
<td>是</td>
<td>设备id/场景id</td>
</tr>
<tr>
<td>command</td>
<td>String</td>
<td>Body</td>
<td>是</td>
<td>指令<br>targetId是场景id时,command为空<br>targetId是设备id时,下方是command的取值范围<br>pwr    开关<br>bright    亮度<br>color_temperature    色温<br>color_rgb    RGB颜色<br></td>
</tr>
<tr>
<td>value</td>
<td>Object</td>
<td>Body</td>
<td>是</td>
<td>参数<br>当targetId指定的是设备id时,value表示其开关状态.false为关,true为开.<br>当targetId指定的是场景id时,value为空</td>
</tr>
</tbody>
</table>
<p><strong>请求示例</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;targetId&quot;:&quot;aabbcc&quot;,</span><br><span class="line">    &quot;command&quot;:&quot;pwr&quot;,</span><br><span class="line">    &quot;value&quot;:false</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>响应参数</strong></p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码，详情见错误码。</td>
</tr>
<tr>
<td>timestamp</td>
<td>Long</td>
<td>响应时间戳。</td>
</tr>
<tr>
<td>msg</td>
<td>String</td>
<td>请求失败返回的信息，成功则返回空值。</td>
</tr>
<tr>
<td>data</td>
<td>Object []</td>
<td>返回结果。</td>
</tr>
</tbody>
</table>
<h4 id="2-7，获取学校统计数据"><a href="#2-7，获取学校统计数据" class="headerlink" title="2.7，获取学校统计数据"></a>2.7，获取学校统计数据</h4><p><strong>接口地址</strong></p>
<p>GET /jingxun/v3/console/system/profile</p>
<p><strong>请求参数</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">参数名称</th>
<th style="text-align:left">是否必须</th>
<th style="text-align:left">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">systemId</td>
<td style="text-align:left">是</td>
<td style="text-align:left">学校id</td>
</tr>
</tbody>
</table>
<p><strong>响应参数</strong></p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码，详情见错误码。</td>
</tr>
<tr>
<td>timestamp</td>
<td>Long</td>
<td>响应时间戳。</td>
</tr>
<tr>
<td>msg</td>
<td>String</td>
<td>请求失败返回的信息，成功则返回空值。</td>
</tr>
<tr>
<td>data</td>
<td>Object</td>
<td>返回结果。</td>
</tr>
</tbody>
</table>
<p><strong>data说明</strong></p>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>placeCount</td>
<td>number</td>
<td>教室数量</td>
</tr>
<tr>
<td>deviceCount</td>
<td>number</td>
<td>设备数量</td>
</tr>
<tr>
<td>userCount</td>
<td>number</td>
<td>用户数量</td>
</tr>
<tr>
<td>alarmCount</td>
<td>number</td>
<td>告警数量</td>
</tr>
</tbody>
</table>
<p><strong>响应示例</strong></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"timestamp"</span>:<span class="number">1636078574727</span>,</span><br><span class="line">    <span class="attr">"code"</span>:<span class="number">2000</span>,</span><br><span class="line">    <span class="attr">"msg"</span>:<span class="literal">null</span>,</span><br><span class="line">    <span class="attr">"data"</span>:[</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"deviceCount"</span>:<span class="number">17</span>,</span><br><span class="line">            <span class="attr">"userCount"</span>:<span class="number">130</span>,</span><br><span class="line">            <span class="attr">"alarmCount"</span>:<span class="number">1374</span>,</span><br><span class="line">            <span class="attr">"placeCount"</span>:<span class="number">18</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-8，获取学校设备故障维修统计"><a href="#2-8，获取学校设备故障维修统计" class="headerlink" title="2.8，获取学校设备故障维修统计"></a>2.8，获取学校设备故障维修统计</h4><p><strong>接口地址</strong></p>
<p>GET /jingxun/v3/console/system/faultSum</p>
<p><strong>请求参数</strong></p>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>systemId</td>
<td>是</td>
<td>学校id</td>
</tr>
<tr>
<td>buildingId</td>
<td>否</td>
<td>大楼id</td>
</tr>
<tr>
<td>floorId</td>
<td>否</td>
<td>楼层id</td>
</tr>
<tr>
<td>placeId</td>
<td>否</td>
<td>教室id</td>
</tr>
</tbody>
</table>
<p><strong>响应参数</strong></p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码，详情见错误码。</td>
</tr>
<tr>
<td>timestamp</td>
<td>Long</td>
<td>响应时间戳。</td>
</tr>
<tr>
<td>msg</td>
<td>String</td>
<td>请求失败返回的信息，成功则返回空值。</td>
</tr>
<tr>
<td>data</td>
<td>Object</td>
<td>返回结果。</td>
</tr>
</tbody>
</table>
<p><strong>data说明</strong></p>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>reportTime</td>
<td>string</td>
<td>报表日期</td>
</tr>
<tr>
<td>sumFailureTimes</td>
<td>number</td>
<td>故障次数</td>
</tr>
<tr>
<td>sumMaintainTimes</td>
<td>number</td>
<td>维修次数</td>
</tr>
</tbody>
</table>
<p><strong>响应示例</strong></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"timestamp"</span>:<span class="number">1636078574727</span>,</span><br><span class="line">    <span class="attr">"code"</span>:<span class="number">2000</span>,</span><br><span class="line">    <span class="attr">"msg"</span>:<span class="literal">null</span>,</span><br><span class="line">    <span class="attr">"data"</span>:[</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"reportTime"</span>:<span class="string">"2021-05"</span>,</span><br><span class="line">            <span class="attr">"sumFailureTimes"</span>:<span class="number">4</span>,</span><br><span class="line">            <span class="attr">"sumMaintainTimes"</span>:<span class="number">0</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"reportTime"</span>:<span class="string">"2021-07"</span>,</span><br><span class="line">            <span class="attr">"sumFailureTimes"</span>:<span class="number">10</span>,</span><br><span class="line">            <span class="attr">"sumMaintainTimes"</span>:<span class="number">0</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"reportTime"</span>:<span class="string">"2021-08"</span>,</span><br><span class="line">            <span class="attr">"sumFailureTimes"</span>:<span class="number">89</span>,</span><br><span class="line">            <span class="attr">"sumMaintainTimes"</span>:<span class="number">0</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"reportTime"</span>:<span class="string">"2021-10"</span>,</span><br><span class="line">            <span class="attr">"sumFailureTimes"</span>:<span class="number">70</span>,</span><br><span class="line">            <span class="attr">"sumMaintainTimes"</span>:<span class="number">0</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"reportTime"</span>:<span class="string">"2021-11"</span>,</span><br><span class="line">            <span class="attr">"sumFailureTimes"</span>:<span class="number">15</span>,</span><br><span class="line">            <span class="attr">"sumMaintainTimes"</span>:<span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-9，获取学校能耗统计"><a href="#2-9，获取学校能耗统计" class="headerlink" title="2.9，获取学校能耗统计"></a>2.9，获取学校能耗统计</h4><p><strong>接口地址</strong></p>
<p>GET /jingxun/v3/console/system/energySum</p>
<p><strong>请求参数</strong></p>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>systemId</td>
<td>是</td>
<td>学校id</td>
</tr>
<tr>
<td>buildingId</td>
<td>否</td>
<td>大楼id</td>
</tr>
<tr>
<td>floorId</td>
<td>否</td>
<td>楼层id</td>
</tr>
<tr>
<td>placeId</td>
<td>否</td>
<td>教室id</td>
</tr>
<tr>
<td>reportDate</td>
<td>否</td>
<td>报表时间 格式: yyyy-MM-dd hh:mm:ss 示例: 2021-11-05 17:39:12</td>
</tr>
<tr>
<td>startDate</td>
<td>是</td>
<td>开始时间 格式: yyyy-MM-dd hh:mm:ss 示例: 2021-11-05 17:39:12</td>
</tr>
<tr>
<td>endDate</td>
<td>是</td>
<td>结束时间 格式: yyyy-MM-dd hh:mm:ss 示例: 2021-11-05 17:39:12</td>
</tr>
</tbody>
</table>
<p><strong>响应参数</strong></p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码，详情见错误码。</td>
</tr>
<tr>
<td>timestamp</td>
<td>Long</td>
<td>响应时间戳。</td>
</tr>
<tr>
<td>msg</td>
<td>String</td>
<td>请求失败返回的信息，成功则返回空值。</td>
</tr>
<tr>
<td>data</td>
<td>Object</td>
<td>返回结果。</td>
</tr>
</tbody>
</table>
<p><strong>data说明</strong></p>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>dayEnergyList</td>
<td>object []</td>
<td>报表日期</td>
</tr>
<tr>
<td>energySumModel</td>
<td>object []</td>
<td>当日总能耗</td>
</tr>
</tbody>
</table>
<p><strong>dayEnergyList说明</strong></p>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>reportTime</td>
<td>string</td>
<td>报表日期</td>
</tr>
<tr>
<td>sumEnergyUsage</td>
<td>number</td>
<td>当日总能耗 单位:kwh</td>
</tr>
</tbody>
</table>
<p><strong>energySumModel说明</strong></p>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>dayEnergySum</td>
<td>number</td>
<td>当天能耗 单位:kwh</td>
</tr>
<tr>
<td>monthEnergySum</td>
<td>number</td>
<td>本月能耗 单位:kwh</td>
</tr>
<tr>
<td>weekEnergySum</td>
<td>number</td>
<td>本周能耗 单位:kwh</td>
</tr>
<tr>
<td>yearEnergySum</td>
<td>number</td>
<td>本年能耗 单位:kwh</td>
</tr>
</tbody>
</table>
<p><strong>响应示例</strong></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"timestamp"</span>:<span class="number">1636094368139</span>,</span><br><span class="line">    <span class="attr">"code"</span>:<span class="number">2000</span>,</span><br><span class="line">    <span class="attr">"msg"</span>:<span class="literal">null</span>,</span><br><span class="line">    <span class="attr">"data"</span>:&#123;</span><br><span class="line">        <span class="attr">"dayEnergyList"</span>:[</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"reportTime"</span>:<span class="string">"2021-10-21"</span>,</span><br><span class="line">                <span class="attr">"sumEnergyUsage"</span>:<span class="number">1.01</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"reportTime"</span>:<span class="string">"2021-10-22"</span>,</span><br><span class="line">                <span class="attr">"sumEnergyUsage"</span>:<span class="number">0.02</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"reportTime"</span>:<span class="string">"2021-10-23"</span>,</span><br><span class="line">                <span class="attr">"sumEnergyUsage"</span>:<span class="number">0.23</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"reportTime"</span>:<span class="string">"2021-10-25"</span>,</span><br><span class="line">                <span class="attr">"sumEnergyUsage"</span>:<span class="number">7.44</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"reportTime"</span>:<span class="string">"2021-10-26"</span>,</span><br><span class="line">                <span class="attr">"sumEnergyUsage"</span>:<span class="number">0.82</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"reportTime"</span>:<span class="string">"2021-10-27"</span>,</span><br><span class="line">                <span class="attr">"sumEnergyUsage"</span>:<span class="number">0.98</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"reportTime"</span>:<span class="string">"2021-10-28"</span>,</span><br><span class="line">                <span class="attr">"sumEnergyUsage"</span>:<span class="number">52.38</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"reportTime"</span>:<span class="string">"2021-10-29"</span>,</span><br><span class="line">                <span class="attr">"sumEnergyUsage"</span>:<span class="number">0.09</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"reportTime"</span>:<span class="string">"2021-10-30"</span>,</span><br><span class="line">                <span class="attr">"sumEnergyUsage"</span>:<span class="number">0</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"reportTime"</span>:<span class="string">"2021-10-31"</span>,</span><br><span class="line">                <span class="attr">"sumEnergyUsage"</span>:<span class="number">0</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"reportTime"</span>:<span class="string">"2021-11-01"</span>,</span><br><span class="line">                <span class="attr">"sumEnergyUsage"</span>:<span class="number">0</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"reportTime"</span>:<span class="string">"2021-11-03"</span>,</span><br><span class="line">                <span class="attr">"sumEnergyUsage"</span>:<span class="number">111.21</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"reportTime"</span>:<span class="string">"2021-11-04"</span>,</span><br><span class="line">                <span class="attr">"sumEnergyUsage"</span>:<span class="number">0</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"reportTime"</span>:<span class="string">"2021-11-05"</span>,</span><br><span class="line">                <span class="attr">"sumEnergyUsage"</span>:<span class="number">0.03</span></span><br><span class="line">            &#125;</span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">"energySumModel"</span>:[</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"dayEnergySum"</span>:<span class="number">0.03</span>,</span><br><span class="line">                <span class="attr">"monthEnergySum"</span>:<span class="number">111.24</span>,</span><br><span class="line">                <span class="attr">"weekEnergySum"</span>:<span class="number">111.24</span>,</span><br><span class="line">                <span class="attr">"yearEnergySum"</span>:<span class="number">1049.52</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-10，获取学校设备工作时长"><a href="#2-10，获取学校设备工作时长" class="headerlink" title="2.10，获取学校设备工作时长"></a>2.10，获取学校设备工作时长</h4><p><strong>接口地址</strong></p>
<p>GET  /jingxun/v3/console/system/deviceLife</p>
<p><strong>请求参数</strong></p>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>systemId</td>
<td>是</td>
<td>学校id</td>
</tr>
<tr>
<td>buildingId</td>
<td>否</td>
<td>大楼id</td>
</tr>
<tr>
<td>floorId</td>
<td>否</td>
<td>楼层id</td>
</tr>
<tr>
<td>placeId</td>
<td>否</td>
<td>教室id</td>
</tr>
</tbody>
</table>
<p><strong>响应参数</strong></p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码，详情见错误码。</td>
</tr>
<tr>
<td>timestamp</td>
<td>Long</td>
<td>响应时间戳。</td>
</tr>
<tr>
<td>msg</td>
<td>String</td>
<td>请求失败返回的信息，成功则返回空值。</td>
</tr>
<tr>
<td>data</td>
<td>Object</td>
<td>返回结果。</td>
</tr>
</tbody>
</table>
<p><strong>data说明</strong></p>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>deviceName</td>
<td>string</td>
<td>设备名称</td>
</tr>
<tr>
<td>reportTime</td>
<td>string</td>
<td>报表日期</td>
</tr>
<tr>
<td>workingHours</td>
<td>number</td>
<td>工作时长 单位:小时</td>
</tr>
</tbody>
</table>
<p><strong>响应示例</strong></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"timestamp"</span>:<span class="number">1636078574723</span>,</span><br><span class="line">    <span class="attr">"code"</span>:<span class="number">2000</span>,</span><br><span class="line">    <span class="attr">"msg"</span>:<span class="literal">null</span>,</span><br><span class="line">    <span class="attr">"data"</span>:[</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"deviceName"</span>:<span class="string">"XY教室灯01-1"</span>,</span><br><span class="line">            <span class="attr">"reportTime"</span>:<span class="string">"2021-11-04 14:10:10.0"</span>,</span><br><span class="line">            <span class="attr">"workingHours"</span>:<span class="number">1572.26</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"deviceName"</span>:<span class="string">"XY教室灯01-2"</span>,</span><br><span class="line">            <span class="attr">"reportTime"</span>:<span class="string">"2021-11-04 14:11:55.0"</span>,</span><br><span class="line">            <span class="attr">"workingHours"</span>:<span class="number">1542.04</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-11，获取学校设备状态统计"><a href="#2-11，获取学校设备状态统计" class="headerlink" title="2.11，获取学校设备状态统计"></a>2.11，获取学校设备状态统计</h4><p><strong>接口地址</strong></p>
<p>GET /jingxun/v3/console/system/deviceStatusCountList</p>
<p><strong>请求参数</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">参数名称</th>
<th style="text-align:left">是否必须</th>
<th style="text-align:left">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">systemId</td>
<td style="text-align:left">是</td>
<td style="text-align:left">学校id</td>
</tr>
</tbody>
</table>
<p><strong>响应参数</strong></p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码，详情见错误码。</td>
</tr>
<tr>
<td>timestamp</td>
<td>Long</td>
<td>响应时间戳。</td>
</tr>
<tr>
<td>msg</td>
<td>String</td>
<td>请求失败返回的信息，成功则返回空值。</td>
</tr>
<tr>
<td>data</td>
<td>Object</td>
<td>返回结果。</td>
</tr>
</tbody>
</table>
<p><strong>data说明</strong></p>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>number</td>
<td>数量</td>
</tr>
<tr>
<td>deviceStatus</td>
<td>number</td>
<td>状态值：0离线、1在线、2故障</td>
</tr>
<tr>
<td>deviceStatusName</td>
<td>string</td>
<td>状态名称：离线、在线，故障</td>
</tr>
<tr>
<td>percent</td>
<td>string</td>
<td>所占百分比</td>
</tr>
</tbody>
</table>
<p><strong>响应示例</strong></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"timestamp"</span>:<span class="number">1636078574723</span>,</span><br><span class="line">    <span class="attr">"code"</span>:<span class="number">2000</span>,</span><br><span class="line">    <span class="attr">"msg"</span>:<span class="literal">null</span>,</span><br><span class="line">    <span class="attr">"data"</span>:[</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"count"</span>:<span class="number">14</span>,</span><br><span class="line">            <span class="attr">"deviceStatus"</span>:<span class="number">0</span>,</span><br><span class="line">            <span class="attr">"deviceStatusName"</span>:<span class="string">"离线"</span>,</span><br><span class="line">            <span class="attr">"percent"</span>:<span class="string">"0.82"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"count"</span>:<span class="number">1</span>,</span><br><span class="line">            <span class="attr">"deviceStatus"</span>:<span class="number">1</span>,</span><br><span class="line">            <span class="attr">"deviceStatusName"</span>:<span class="string">"在线"</span>,</span><br><span class="line">            <span class="attr">"percent"</span>:<span class="string">"0.06"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"count"</span>:<span class="number">2</span>,</span><br><span class="line">            <span class="attr">"deviceStatus"</span>:<span class="number">2</span>,</span><br><span class="line">            <span class="attr">"deviceStatusName"</span>:<span class="string">"故障"</span>,</span><br><span class="line">            <span class="attr">"percent"</span>:<span class="string">"0.12"</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3，错误码"><a href="#3，错误码" class="headerlink" title="3，错误码"></a>3，错误码</h2><table>
<thead>
<tr>
<th><strong>code</strong></th>
<th><strong>msg</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>2000</td>
<td></td>
<td>成功</td>
</tr>
<tr>
<td>1000</td>
<td>Account Not Exist</td>
<td>账户不存在</td>
</tr>
<tr>
<td>1001</td>
<td>Account Not Activated</td>
<td>账户未激活</td>
</tr>
<tr>
<td>1002</td>
<td>Account Existed</td>
<td>账户已注册</td>
</tr>
<tr>
<td>1003</td>
<td>还剩输入密码次数</td>
<td>密码错误</td>
</tr>
<tr>
<td>1004</td>
<td>Token Error</td>
<td>token错误</td>
</tr>
<tr>
<td>1005</td>
<td>Token Expired</td>
<td>token已过期</td>
</tr>
<tr>
<td>1006</td>
<td>Register Fail</td>
<td>注册失败</td>
</tr>
<tr>
<td>1007</td>
<td>Verify Code Error</td>
<td>验证码错误</td>
</tr>
<tr>
<td>1008</td>
<td>Mobile Existed</td>
<td>手机号已注册</td>
</tr>
<tr>
<td>1009</td>
<td>User Name Existed</td>
<td>用户名已注册</td>
</tr>
<tr>
<td>1010</td>
<td>Email Existed</td>
<td>邮箱已注册</td>
</tr>
<tr>
<td>1011</td>
<td>Email Invalid</td>
<td>邮箱不可用/不支持</td>
</tr>
<tr>
<td>1012</td>
<td>Permission Denied</td>
<td>Token权限不足</td>
</tr>
<tr>
<td>1013</td>
<td>username not match email</td>
<td>用户名与邮箱不匹配</td>
</tr>
<tr>
<td>1014</td>
<td>解锁的时间戳</td>
<td>临时锁定账号</td>
</tr>
<tr>
<td>1015</td>
<td>Account is permanently locked</td>
<td>永久锁定账号</td>
</tr>
<tr>
<td>1016</td>
<td>Verification code expired</td>
<td>验证码过期</td>
</tr>
<tr>
<td>1017</td>
<td>Link expired</td>
<td>链接过期</td>
</tr>
<tr>
<td>1018</td>
<td>Verification code gets too frequent</td>
<td>验证码获取太频繁</td>
</tr>
<tr>
<td>1019</td>
<td>session invalidation</td>
<td>session失效</td>
</tr>
<tr>
<td>1020</td>
<td>This account has already joined this place</td>
<td>该账号已经加入此场所</td>
</tr>
<tr>
<td>1021</td>
<td>Cannot delete current place</td>
<td>当前住所不能删除</td>
</tr>
<tr>
<td>1022</td>
<td>Only one place cannot be deleted</td>
<td>只剩一个住所不能删除</td>
</tr>
<tr>
<td>2001</td>
<td>Server Error</td>
<td>服务器错误</td>
</tr>
<tr>
<td>2002</td>
<td>Params Error</td>
<td>参数错误</td>
</tr>
<tr>
<td>2003</td>
<td>Auth Expired</td>
<td>认证失效</td>
</tr>
<tr>
<td>2004</td>
<td>Sdk Auth Fail</td>
<td>SDK认证失败</td>
</tr>
<tr>
<td>2005</td>
<td>Ssl Certificate Not Found</td>
<td>SSL证书不存在</td>
</tr>
<tr>
<td>2006</td>
<td>Ssl Certificate Fail</td>
<td>SSL证书验证失败</td>
</tr>
<tr>
<td>2007</td>
<td>Not Support</td>
<td>不支持此操作</td>
</tr>
<tr>
<td>2008</td>
<td>User authentication fail</td>
<td>用户认证失败</td>
</tr>
<tr>
<td>2009</td>
<td>Repeat operation</td>
<td>重复操作</td>
</tr>
<tr>
<td>2010</td>
<td>Database query could not find this content</td>
<td>数据库查询不到此内容</td>
</tr>
<tr>
<td>2011</td>
<td>User status abnormal</td>
<td>用户状态异常</td>
</tr>
<tr>
<td>2012</td>
<td>Product status abnormal</td>
<td>产品状态异常</td>
</tr>
<tr>
<td>2013</td>
<td>sdk authentication fail. keyId error</td>
<td>Sdk授权失败，keyId错误</td>
</tr>
<tr>
<td>2014</td>
<td>sdk authentication fail. signature error</td>
<td>Sdk授权失败，signature错误</td>
</tr>
<tr>
<td>2015</td>
<td>sdk authentication fail.overtime</td>
<td>Sdk授权失败，超时</td>
</tr>
<tr>
<td>3000</td>
<td>Device Not Found</td>
<td>没有该设备</td>
</tr>
<tr>
<td>3001</td>
<td>Device Off line</td>
<td>设备离线</td>
</tr>
<tr>
<td>3002</td>
<td>Mesh device Auth Fail</td>
<td>Mesh鉴权失败</td>
</tr>
<tr>
<td>4000</td>
<td>File existed</td>
<td>文件已存在</td>
</tr>
<tr>
<td>4001</td>
<td>File not exist</td>
<td>文件不存在</td>
</tr>
<tr>
<td>5000</td>
<td>The quantity reaches the maximum limit</td>
<td>数量达到最大限制</td>
</tr>
</tbody>
</table>

        <div id="react-support-footer-root"></div>
      </div>
    </div>
  </div>
</div>

    


    

    <!-- js vendors -->
    <script src="//code.jquery.com/jquery-3.2.1.min.js" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/lunr.js/2.1.0/lunr.min.js"></script>

    <!-- js source  -->
    <script src="/script/doc.js"></script>

    

  </body>
</html>
